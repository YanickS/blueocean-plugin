<!doctype html>
<html lang="en">
<head>
    <title>Code coverage report for js/components/karaoke/components/Pipeline.jsx</title>
    <meta charset="utf-8" />
    <link rel="stylesheet" href="../../../../prettify.css" />
    <link rel="stylesheet" href="../../../../base.css" />
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <style type='text/css'>
        .coverage-summary .sorter {
            background-image: url(../../../../sort-arrow-sprite.png);
        }
    </style>
</head>
<body>
<div class='wrapper'>
  <div class='pad1'>
    <h1>
      <a href="../../../../index.html">All files</a> / <a href="index.html">js/components/karaoke/components</a> Pipeline.jsx
    </h1>
    <div class='clearfix'>
      <div class='fl pad1y space-right2'>
        <span class="strong">0% </span>
        <span class="quiet">Statements</span>
        <span class='fraction'>0/183</span>
      </div>
      <div class='fl pad1y space-right2'>
        <span class="strong">0% </span>
        <span class="quiet">Branches</span>
        <span class='fraction'>0/131</span>
      </div>
      <div class='fl pad1y space-right2'>
        <span class="strong">0% </span>
        <span class="quiet">Functions</span>
        <span class='fraction'>0/21</span>
      </div>
      <div class='fl pad1y space-right2'>
        <span class="strong">0% </span>
        <span class="quiet">Lines</span>
        <span class='fraction'>0/134</span>
      </div>
    </div>
  </div>
  <div class='status-line low'></div>
<pre><table class="coverage">
<tr><td class="line-count quiet">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195
196
197
198
199
200
201
202
203
204
205
206
207
208
209
210
211
212
213
214
215
216
217
218
219
220
221
222
223
224
225
226
227
228
229
230
231
232
233
234
235
236
237
238
239
240
241
242
243
244
245
246
247
248
249
250
251
252
253
254
255
256
257
258
259
260
261
262
263
264
265
266
267
268
269
270
271
272
273
274
275
276
277
278
279
280
281
282
283
284
285
286
287
288
289
290
291
292
293
294
295
296
297
298
299
300
301
302
303
304
305</td><td class="line-coverage quiet"><span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span></td><td class="text"><pre class="prettyprint lang-js">import React,<span class="cstat-no" title="statement not covered" > { Component, PropTypes } from 'react';<span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="fstat-no" title="function not covered" ><span class="fstat-no" title="function not covered" ><span class="fstat-no" title="function not covered" ></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span>
import { calculateLogVi<span class="cstat-no" title="statement not covered" >ew, logging, sseConnection } from '@jenki</span>ns-cd/blueocean-core-js';
import Extensions fr<span class="cstat-no" title="statement not covered" >om '@jenkins-cd/js-extensions';<span class="cstat-no" title="statement not covered" ></span></span>
import { observer<span class="cstat-no" title="statement not covered" > } from 'mobx-react';</span>
import debounc<span class="cstat-no" title="statement not covered" >e from 'lodash.debounce';<span class="cstat-no" title="statement not covered" ></span></span>
import { NoSteps, Q<span class="cstat-no" title="statement not covered" >ueuedState } from './Queu</span>edState';
import { Kara<span class="cstat-no" title="statement not covered" >okeService } from '.</span>./index';
import LogToolbar <span class="cstat-no" title="statement not covered" >from './LogToolbar';<span class="cstat-no" title="statement not covered" ></span></span>
import Steps <span class="cstat-no" title="statement not covered" >from './Steps';<span class="cstat-no" title="statement not covered" ></span></span>
import FreeStyle <span class="cstat-no" title="statement not covered" >from './FreeStyle';<span class="cstat-no" title="statement not covered" ></span></span>
import RunDescription <span class="cstat-no" title="statement not covered" >from './RunDescription';<span class="cstat-no" title="statement not covered" ></span></span>
&nbsp;
import {<span class="cstat-no" title="statement not covered" > KaraokeConfig </span>} from '.<span class="fstat-no" title="function not covered" >./';<span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="fstat-no" title="function not covered" ><span class="fstat-no" title="function not covered" ><span class="fstat-no" title="function not covered" ></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span>
const logger <span class="cstat-no" title="statement not covered" >= logging.logger('io.jenkins.blueocean.dashboard.karaoke.Pipeline');</span>
&nbsp;
@observer
export defa<span class="cstat-no" title="statement not covered" >ult class Pipeline extends Compone<span class="fstat-no" title="function not covered" >nt</span> {<span class="cstat-no" title="statement not covered" ></span></span>
    construct<span class="fstat-no" title="function not covered" >or(props)</span> {<span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ></span></span>
        super(props);
<span class="cstat-no" title="statement not covered" >        this.listener = {};</span>
<span class="cstat-no" title="statement not covered" >        this.sseEventHandler = this.sseEventHandler.bind(this);</span>
        // query parameter before preference
<span class="cstat-no" title="statement not covered" >        this.classicLog = calculateLogView(props) || KaraokeConfig.getPreference('runDetails.logView').value === 'classic';</span>
<span class="cstat-no" title="statement not covered" >        this.showPending = KaraokeConfig.getPreference('runDetails.pipeline.showPending').value !== 'never'; // </span>Configure flag to show pending or not
<span class="cstat-no" title="statement not covered" >        this.karaoke = KaraokeConfig.getPreference('runDetails.pipeline.karaoke').value === 'never' ? false : props.augmenter.karaoke; // </span>initial karaoke state
<span class="cstat-no" title="statement not covered" >        this.updateOnFinish = KaraokeConfig.getPreference('runDetails.pipeline.updateOnFinish').value;</span>
<span class="cstat-no" title="statement not covered" >        this.stopOnClick = KaraokeConfig.getPreference('runDetails.pipeline.stopKaraokeOnAnyNodeClick').value === 'always';<span class="cstat-no" title="statement not covered" ></span></span>
    }<span class="cstat-no" title="statement not covered" ><span class="fstat-no" title="function not covered" ></span></span>
    componentWillMount() {
        // starting pipeline service when we have an augmenter
        if (<span class="cstat-no" title="statement not covered" >this.props.augmenter) {</span>
            cons<span class="cstat-no" title="statement not covered" >t { augment</span>er, params: <span class="cstat-no" title="statement not covered" >{ node } } = this</span>.props;<span class="cstat-no" title="statement not covered" ></span>
            this<span class="cstat-no" title="statement not covered" >.pager = KaraokeService.pipelinePager(augmenter, { node });</span>
        }
    }<span class="fstat-no" title="function not covered" ></span>
    componentDidMount() {
        // get sse listener to react on the different in sse events
        this<span class="cstat-no" title="statement not covered" >.listener.ssePipeline = sseConnection.subscribe('pipeline', this.sseEventHandler);</span>
        this<span class="cstat-no" title="statement not covered" >.listener.sseJob = sseConnection.subscribe('job', this.sseEventHandler);</span>
    }
&nbsp;
    /**
     * Core logic to update and re-fetch data
     * @param nextProps
     */<span class="fstat-no" title="function not covered" ></span>
    componentWillReceiveProps(nex<span class="cstat-no" title="statement not covered" >tProp</span>s) {
        // karaoke has changed state?
        if (<span class="cstat-no" title="statement not covered" >!nextProps.augmenter.karaoke) {</span>
            logg<span class="cstat-no" title="statement not covered" >er.debug('stopping karaoke mode.');</span>
            this<span class="cstat-no" title="statement not covered" >.stopKaraoke();</span>
        }
        logg<span class="cstat-no" title="statement not covered" >er.debug('karaoke mode.',</span>
            'nextProps.augmenter.karaoke ',
            nextProps.augmenter.karaoke, 'this.props.augmenter.karaoke',
            this.props.augmenter.karaoke, 'this.karaoke',
            this.karaoke);
        // update on finish and start, you can de-activate it by setting updateOnFinish to false
        //
        if (<span class="cstat-no" title="statement not covered" >nextProps.run.id !== this.props.run.id || (this.updateOnFinish !== 'never' &amp;&amp; nextProps.run.isCompleted() &amp;&amp; !this.props.run.isCompleted())) {</span>
            logg<span class="cstat-no" title="statement not covered" >er.debug('re-fetching since result changed and we want to display the full log and correct result states');</span>
            // remove all timeouts in the backend
            this<span class="cstat-no" title="statement not covered" >.stopKaraoke();</span>
            if (<span class="cstat-no" title="statement not covered" >nextProps.run !== this.props.run) {</span>
                logg<span class="cstat-no" title="statement not covered" >er.debug('Need to set new Run. Happens when e.g. re-run.');</span>
                next<span class="cstat-no" title="statement not covered" >Props.augmenter.setRun(nextProps.run);</span>
            }
            debo<span class="cstat-no" title="statement not covered" >unce(() =&gt; {<span class="fstat-no" title="function not covered" ></span></span>
                if (<span class="cstat-no" title="statement not covered" >KaraokeConfig.getPreference('runDetails.pipeline.karaoke').value !== 'never') {</span>
                    logg<span class="cstat-no" title="statement not covered" >er.debug('re-setting karaoke mode.');</span>
                    this<span class="cstat-no" title="statement not covered" >.karaoke = true;</span>
                }
                this<span class="cstat-no" title="statement not covered" >.pager.fetchNodes({ node: nextProps.params.node });</span>
            }, 200)();
        }
        // switches from the url which node to focus
        if (<span class="cstat-no" title="statement not covered" >nextProps.params.node !== this.props.params.node) {</span>
            logg<span class="cstat-no" title="statement not covered" >er.debug('Need to fetch new nodes.');</span>
            this<span class="cstat-no" title="statement not covered" >.pager.fetchNodes({ node: nextProps.params.node });</span>
        }
    }
    /**
     * Need to remove the listener to prevent memory leaks
     */<span class="fstat-no" title="function not covered" ></span>
    componentWillUnmount() {
        this<span class="cstat-no" title="statement not covered" >.stopKaraoke();</span>
        if (<span class="cstat-no" title="statement not covered" >this.listener.ssePipeline) {</span>
            sseC<span class="cstat-no" title="statement not covered" >onnection.unsubscribe(this.listener.ssePipeline);</span>
            dele<span class="cstat-no" title="statement not covered" >te this.listener.ssePipeline;</span>
        }
        if (<span class="cstat-no" title="statement not covered" >this.listener.sseJob) {</span>
            sseC<span class="cstat-no" title="statement not covered" >onnection.unsubscribe(this.listener.sseJob);</span>
            dele<span class="cstat-no" title="statement not covered" >te this.listener.sseJob;</span>
        }
    }<span class="fstat-no" title="function not covered" ></span>
&nbsp;
    stopKaraoke() {
        logg<span class="cstat-no" title="statement not covered" >er.debug('stopping karaoke mode, by removing the timeouts on the pager.');</span>
        this<span class="cstat-no" title="statement not covered" >.pager.clear();</span>
        this<span class="cstat-no" title="statement not covered" >.karaoke = false;</span>
    }
&nbsp;
    /**
     * Listen for pipeline flow node events. We need to re-fetch in case of some events.
     * @param event sse event coming from the backende
     */<span class="fstat-no" title="function not covered" ></span>
    sseEventHandler(event) {<span class="cstat-no" title="statement not covered" ></span>
         // we are using try/catch to throw an early out error
        try <span class="cstat-no" title="statement not covered" >{</span>
            logg<span class="cstat-no" title="statement not covered" >er.debug('incoming event', event);</span>
            const karaokeOut = Ka<span class="cstat-no" title="statement not covered" >raokeConfig.getPreference('runDetails.pipeline.karaoke').value === 'never' || !this.karaoke;</span>
            const jenkinsEvent = ev<span class="cstat-no" title="statement not covered" >ent.jenkins_event;</span>
            const { ru<span class="cstat-no" title="statement not covered" >n } = this.prop</span>s;
            const runId = ru<span class="cstat-no" title="statement not covered" >n.id;</span>
             // we get events from the pipeline and the job channel, they have different naming for the id
            //  &amp;&amp; event.jenkins_object_id !== runId -&gt; job
            if (<span class="cstat-no" title="statement not covered" >event.pipeline_run_id !== runId) {</span>
                logg<span class="cstat-no" title="statement not covered" >er.debug('early out');</span>
                thro<span class="cstat-no" title="statement not covered" >w new Error('exit');</span>
            }
            swit<span class="cstat-no" title="statement not covered" >ch (jenkinsEvent) {</span>
            case 'pipeline_step': {
                if (karaokeO<span class="cstat-no" title="statement not covered" >ut) {</span>
                    logger.debug<span class="cstat-no" title="statement not covered" >('early out because we do not want to follow along sse events');</span>
                    throw new Er<span class="cstat-no" title="statement not covered" >ror('exit');</span>
                }
                logger.debug<span class="cstat-no" title="statement not covered" >('sse event step fetchCurrentSteps', jenkinsEvent);</span>
                debounce(() <span class="cstat-no" title="statement not covered" >=&gt; {<span class="fstat-no" title="function not covered" ></span></span>
                    logger.debug<span class="cstat-no" title="statement not covered" >('sse fetch it', this.karaoke);</span>
                    this.pager.f<span class="cstat-no" title="statement not covered" >etchCurrentStepUrl();</span>
                }, 200)();
                // prevent flashing of stages and nodes
                this.showPen<span class="cstat-no" title="statement not covered" >ding = false;</span>
                break;<span class="cstat-no" title="statement not covered" ></span>
            }
            case 'pipeline_end':
            case 'pipeline_start':
            case 'job_run_ended':
            case 'pipeline_block_end':
            case 'pipeline_stage': {
                logger.debug<span class="cstat-no" title="statement not covered" >('sse event block starts refetchNodes', jenkinsEvent);</span>
                debounce(() <span class="cstat-no" title="statement not covered" >=&gt; {<span class="fstat-no" title="function not covered" ></span></span>
                    logger.debug<span class="cstat-no" title="statement not covered" >('sse fetch it', this.karaoke);</span>
                    if (karaokeO<span class="cstat-no" title="statement not covered" >ut) {</span>
                        this.pager.f<span class="cstat-no" title="statement not covered" >etchNodesOnly({});</span>
                    } else {
                        this.pager.f<span class="cstat-no" title="statement not covered" >etchNodes({});</span>
                    }
                }, 200)();
                // prevent flashing of stages and nodes
                this.showPen<span class="cstat-no" title="statement not covered" >ding = false;</span>
                break;<span class="cstat-no" title="statement not covered" ></span>
            }
            default: {
                logger.debug<span class="cstat-no" title="statement not covered" >('ignoring event', jenkinsEvent);</span>
            }
            }
        } catch (e) {
            // we only ignore the exit error
            if (<span class="cstat-no" title="statement not covered" >e.message !== 'exit') {</span>
                logg<span class="cstat-no" title="statement not covered" >er.error('sse Event has produced an error, will not work as expected.', e);</span>
            }
        }
    }<span class="fstat-no" title="function not covered" ></span>
    render() {<span class="cstat-no" title="statement not covered" ></span>
        cons<span class="cstat-no" title="statement not covered" >t { t, run,</span> aug<span class="cstat-no" title="statement not covered" >menter, br</span>anch, <span class="cstat-no" title="statement not covered" >pipeline, ro</span>uter, scroll<span class="cstat-no" title="statement not covered" >ToBottom, location</span> } = this<span class="cstat-no" title="statement not covered" >.props;<span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ></span></span></span></span></span>
        // do we have something to display?
        const noResultsToDisplay = th<span class="cstat-no" title="statement not covered" >is.pager.steps === undefined || (this.pager.steps &amp;&amp; !this.pager.steps.data.hasResultsForSteps);</span>
        // Queue magic since a pipeline is only showing queued state a short time even if still waiting for executors
        const isPipelineQueued = ru<span class="cstat-no" title="statement not covered" >n.isQueued() || (run.isRunning() &amp;&amp; noResultsToDisplay);</span>
        logg<span class="cstat-no" title="statement not covered" >er.debug('isQueued', run.isQueued(), 'noResultsToDisplay', noResultsToDisplay, 'isPipelineQueued', isPipelineQueued);</span>
        if (<span class="cstat-no" title="statement not covered" >run.isQueued()) { // if queued we are saying that we are waiting to start</span>
            logg<span class="cstat-no" title="statement not covered" >er.debug('EarlyOut - abort due to run queued.');</span>
            retu<span class="cstat-no" title="statement not covered" >rn (&lt;QueuedState</span>
                translation={t}
                titleKey="rundetail.pipeline.waiting.message.title"
                messageKey="rundetail.pipeline.waiting.message.description"
                message={run.causeOfBlockage}
            /&gt;);
        }
        const supportsNodes = th<span class="cstat-no" title="statement not covered" >is.pager.nodes === undefined;</span>
        if (<span class="cstat-no" title="statement not covered" >!this.pager.pending &amp;&amp; (this.classicLog || (noResultsToDisplay &amp;&amp; supportsNodes))) { // no information? fallback to freeStyle</span>
            logg<span class="cstat-no" title="statement not covered" >er.debug('EarlyOut - We do not have any information we can display or we opt-out by preference, falling back to freeStyle rendering');</span>
            retu<span class="cstat-no" title="statement not covered" >rn (&lt;FreeStyle {...this.props } /&gt;);</span>
        }
        if (<span class="cstat-no" title="statement not covered" >this.pager.pending &amp;&amp; this.showPending) { // we are waiting for the backend information</span>
            logg<span class="cstat-no" title="statement not covered" >er.debug('EarlyOut - abort due to pager pending');</span>
            retu<span class="cstat-no" title="statement not covered" >rn (&lt;QueuedState</span>
                translation={t}
                titleKey="rundetail.pipeline.pending.message.title"
                messageKey="rundetail.pipeline.pending.message.description"
            /&gt;);
        }
        // here we decide what to do next if somebody clicks on a flowNode
        // Underlying tasks are fetching nodes information for the selected node
        const afterClick = (i<span class="cstat-no" title="statement not covered" >d) =&gt; {<span class="fstat-no" title="function not covered" ></span></span>
            logg<span class="cstat-no" title="statement not covered" >er.debug('clicked on node with id:', id);</span>
            this<span class="cstat-no" title="statement not covered" >.showPending = false; // Con</span>figure flag to not show pending anymore -&gt; reduce flicker
            const nextNode = th<span class="cstat-no" title="statement not covered" >is.pager.nodes.data.model.filter((ite<span class="fstat-no" title="function not covered" >m)</span> =&gt; item.id ===<span class="cstat-no" title="statement not covered" > id)[0];</span></span>
            // remove trailing /
            const pathname = lo<span class="cstat-no" title="statement not covered" >cation.pathname.replace(/\/$/, '');</span>
            let nextPath;<span class="cstat-no" title="statement not covered" ></span>
            if (<span class="cstat-no" title="statement not covered" >pathname.endsWith('pipeline')) {</span>
                next<span class="cstat-no" title="statement not covered" >Path = pathname;</span>
            } else { // means we are in a node url
                // remove last bits
                const pathArray = pa<span class="cstat-no" title="statement not covered" >thname.split('/');</span>
                path<span class="cstat-no" title="statement not covered" >Array.pop();</span>
                path<span class="cstat-no" title="statement not covered" >Array.shift();</span>
                next<span class="cstat-no" title="statement not covered" >Path = `/${pathArray.join('/')}`;</span>
            }
            // check whether we have a parallel node
            const isParallel = ne<span class="cstat-no" title="statement not covered" >xtNode.isParallel;</span>
            // see whether we need to update the state
            if (<span class="cstat-no" title="statement not covered" >nextNode.state === 'FINISHED' || isParallel) {</span>
                next<span class="cstat-no" title="statement not covered" >Path = `${nextPath}/${id}`; // o</span>nly allow node param in finished nodes
            }
            // see whether we need to update the karaoke mode
            if (<span class="cstat-no" title="statement not covered" >(nextNode.state === 'FINISHED' || isParallel) &amp;&amp; this.karaoke) {</span>
                logg<span class="cstat-no" title="statement not covered" >er.debug('turning off karaoke since we do not need it anymore because focus is on a finished node.');</span>
                this<span class="cstat-no" title="statement not covered" >.stopKaraoke();</span>
            }
            if (<span class="cstat-no" title="statement not covered" >!this.stopOnClick &amp;&amp; nextNode.state !== 'FINISHED' &amp;&amp; !this.karaoke) {</span>
                logg<span class="cstat-no" title="statement not covered" >er.debug('turning on karaoke since we need it because we are focusing on a new node.');</span>
                this<span class="cstat-no" title="statement not covered" >.karaoke = true;</span>
            }
            loca<span class="cstat-no" title="statement not covered" >tion.pathname = nextPath;</span>
            logg<span class="cstat-no" title="statement not covered" >er.debug('redirecting now to:', location.pathname);</span>
            rout<span class="cstat-no" title="statement not covered" >er.push(location);</span>
        };
        const title = th<span class="cstat-no" title="statement not covered" >is.pager.nodes !== undefined ? t('rundetail.pipeline.steps', {</span>
            defaultValue: 'Steps {0}',
            0: this.pager.currentNode.displayName,
        }) : '';
        // JENKINS-40526 node can provide logs only related to that node
        const logUrl = th<span class="cstat-no" title="statement not covered" >is.pager.nodes !== undefined ? augmenter.getNodesLogUrl(this.pager.currentNode) : augmenter.generalLogUrl;</span>
        const logFileName = th<span class="cstat-no" title="statement not covered" >is.pager.nodes !== undefined ? augmenter.getNodesLogFileName(this.pager.currentNode) : augmenter.generalLogFileName;</span>
        logg<span class="cstat-no" title="statement not covered" >er.debug('displayName', this.pager.currentNode.displayName, 'logging info', logUrl, logFileName);</span>
        retu<span class="cstat-no" title="statement not covered" >rn (&lt;div&gt;</span>
            { &lt;RunDescription run={this.props.run} t={t} /&gt; }
            { this.pager.nodes !== undefined &amp;&amp;
                &lt;Extensions.Renderer
                    extensionPoint="jenkins.pipeline.run.result"
                    selectedStage={this.pager.currentNode}
                    callback={afterClick}
                    nodes={this.pager.nodes.data.model}
                    pipelineName={pipeline.displayName}
                    branchName={augmenter.isMultiBranchPipeline ? branch : undefined}
                    runId={run.id}
                    run={run}
                    t={t}
                /&gt;
            }
            { !isPipelineQueued &amp;&amp;
                &lt;LogToolbar
                    fileName={logFileName}
                    url={logUrl}
                    title={title}
                /&gt;
            }
            { this.pager.steps &amp;&amp; !noResultsToDisplay &amp;&amp;
                &lt;Steps
                    {...{
                        key: this.pager.currentStepsUrl,
                        nodeInformation: this.pager.steps.data,
                        followAlong: augmenter.karaoke,
                        augmenter,
                        t,
                        scrollToBottom,
                        router,
                        location,
                    }}
                /&gt;
            }
&nbsp;
            { !this.pager.pending &amp;&amp; !isPipelineQueued &amp;&amp; noResultsToDisplay &amp;&amp;
                &lt;NoSteps
                    translation={t}
                    titleKey="rundetail.pipeline.nosteps.message.title"
                    messageKey="rundetail.pipeline.nosteps.message.description"
                /&gt;
            }
&nbsp;
            { isPipelineQueued &amp;&amp;
                &lt;QueuedState translation={t}
                    titleKey="rundetail.pipeline.waiting.message.title"
                    messageKey="rundetail.pipeline.waiting.message.description"
                    message={run.causeOfBlockage}
                /&gt;
            }
        &lt;/div&gt;);
    }<span class="cstat-no" title="statement not covered" ></span>
}
// nodeInformation: this.pager.steps.data
<span class="cstat-no" title="statement not covered" >Pipeline.propTypes = {<span class="cstat-no" title="statement not covered" ></span></span>
    augmenter: PropTypes.object,
    pipeline: PropTypes.object,
    branch: PropTypes.string,
    run: PropTypes.object,
    t: PropTypes.func,
    router: PropTypes.shape,
    location: PropTypes.shape,
    scrollToBottom: PropTypes.bol,
    params: PropTypes.object,
};
&nbsp;</pre></td></tr>
</table></pre>
<div class='push'></div><!-- for sticky footer -->
</div><!-- /wrapper -->
<div class='footer quiet pad2 space-top1 center small'>
  Code coverage
  generated by <a href="https://istanbul.js.org/" target="_blank">istanbul</a> at Sun Jul 02 2017 11:08:56 GMT+0530 (IST)
</div>
</div>
<script src="../../../../prettify.js"></script>
<script>
window.onload = function () {
        if (typeof prettyPrint === 'function') {
            prettyPrint();
        }
};
</script>
<script src="../../../../sorter.js"></script>
</body>
</html>
